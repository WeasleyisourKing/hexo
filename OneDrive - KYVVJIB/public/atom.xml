<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Weasley is our King!~</title>
  
  <subtitle>Weasley</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-04-29T09:34:54.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Sid</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è®¿é—®é‡/é˜…è¯»æ¬¡æ•°/å­—æ•°ç»Ÿè®¡[è¯´æ˜]</title>
    <link href="http://yoursite.com/3020/04/29/picture/"/>
    <id>http://yoursite.com/3020/04/29/picture/</id>
    <published>3020-04-29T09:12:19.000Z</published>
    <updated>2019-04-29T09:34:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨â™¡à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢<br>æƒ…æŠ¥æœ‰è¯¯<br><a id="more"></a><br>âœ§Ì£Ì¥Ì‡â€§âœ¦â€§âœ§Ì£Ì¥Ì‡â€§âœ¦â€§âœ§Ì£Ì¥Ì‡â€§âœ¦â€§âœ§Ì£Ì¥Ì‡â€§âœ¦â€§âœ§Ì£Ì¥Ì‡â€§âœ¦â€§âœ§Ì£Ì¥Ì‡â€§âœ¦â€§âœ§Ì£Ì¥Ì‡â€§âœ¦</p><p>åœ¨æµ‹è¯•çš„æ—¶å€™,æ¯æ¬¡ç‚¹å‡»èœå•éƒ½ä¼šè®¡æ•°<br>è®¿é—®æ¬¡æ•°ç»Ÿè®¡å¹¶æ²¡æœ‰è¿‡æ»¤æœ¬ç‹—å­çš„ip</p><p>æ‰€ä»¥â€¦<br>å…ˆè¿™æ ·å§</p><p>é˜…è¯»æ¬¡æ•°&amp;å­—æ•°ç»Ÿè®¡ æ‰§è¡Œå¤±è´¥</p><p>å‘Šè¾ ê”›ê•¤</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨â™¡à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢&lt;br&gt;æƒ…æŠ¥æœ‰è¯¯&lt;br&gt;
    
    </summary>
    
    
      <category term="æ±ªæ±ªæ±ª" scheme="http://yoursite.com/tags/%E6%B1%AA%E6%B1%AA%E6%B1%AA/"/>
    
  </entry>
  
  <entry>
    <title>ç›‘æµ‹ä¸»ä»åŒæ­¥æ˜¯å¦è¿è¡Œå¹¶å‘é‚®ä»¶</title>
    <link href="http://yoursite.com/2019/04/28/%E7%9B%91%E6%B5%8B%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5%E5%B9%B6%E5%8F%91%E9%82%AE%E4%BB%B6/"/>
    <id>http://yoursite.com/2019/04/28/ç›‘æµ‹ä¸»ä»åŒæ­¥å¹¶å‘é‚®ä»¶/</id>
    <published>2019-04-28T09:34:23.000Z</published>
    <updated>2019-04-29T06:45:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢<br><a id="more"></a><br>        #!/bin/bash</p><p>test=$(ps aux |grep â€œmysqlâ€|grep -v grep)</p><p>time=$(date â€œ+%Y-%m-%d_%H:%M:%Sâ€)</p><p>array=($(mysql -h ä¸»æœºåœ°å€ -uç”¨æˆ· -på¯†ç   -e â€œshow slave status\Gâ€|grep â€œRunningâ€ |awk â€˜{print $2}â€™))</p><p>if [ -n â€œ$arrayâ€ ]</p><p>then</p><p>echo $time â€œmysql is runningâ€ &gt;&gt;/root/backup/sh/mysqlrunning.log </p><p>echo $time â€œmysql is runningâ€ &gt;&gt;/root/backup/sh/mysqlrunning.txt</p><p>else</p><p>echo $time â€œmysql stopâ€ &gt;&gt;/root/backup/sh/mysqlrunning.log </p><p>echo $time â€œmysql stopâ€ &gt;&gt;/root/backup/sh/mysqlrunning.txt</p><p>fi</p><p> if [ â€œ${array[0]}â€ == â€œYesâ€ ] || [ â€œ${array[1]}â€ == â€œYesâ€ ]</p><p>â€‹          then</p><p>â€‹            echo $time â€œslave is OKâ€ &gt;&gt;/root/backup/sh/mysqlrunning.log</p><p>â€‹             echo $time â€œslave is OKâ€ &gt;&gt;/root/backup/sh/mysqlrunning.txt</p><p>â€‹       else</p><p>â€‹             echo $time â€œslave is wrongâ€ &gt;&gt;/root/backup/sh/mysqlrunning.log</p><p>â€‹             echo $time â€œslave is wrongâ€ &gt;&gt;/root/backup/sh/mysqlrunning.txt </p><p>â€‹            </p><p>â€‹    fi</p><p>mail -s â€œ[2/2]132.148.242.150 [mysqlmaster&amp;salve] $timeâ€ é‚®ç®±åœ°å€ &lt;/root/backup/sh/mysqlrunning.txt</p><p>rm -rf /root/backup/sh/mysqlrunning.txt</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢&lt;br&gt;
    
    </summary>
    
    
      <category term="shell" scheme="http://yoursite.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>mysqlæ•°æ®åº“å®šæœŸå¤‡ä»½ä»¥åŠåˆ é™¤</title>
    <link href="http://yoursite.com/2019/04/24/mysql%E5%A4%87%E4%BB%BD%E4%BB%A5%E5%8F%8A%E5%88%A0%E9%99%A4%E8%BF%87%E6%9C%9F%E5%A4%87%E4%BB%BDshell/"/>
    <id>http://yoursite.com/2019/04/24/mysqlå¤‡ä»½ä»¥åŠåˆ é™¤è¿‡æœŸå¤‡ä»½shell/</id>
    <published>2019-04-24T10:34:23.000Z</published>
    <updated>2019-04-29T06:45:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢<br><a id="more"></a><br>#!/bin/bash</p><p>mysql_user=â€å¤‡ä»½è´¦å·â€</p><p>mysql_password=â€æ•°æ®åº“å¯†ç â€</p><p>backup_db_arr=(â€œæ•°æ®åº“åç§°â€) #è¦å¤‡ä»½çš„æ•°æ®åº“åç§°ï¼Œå¤šä¸ªç”¨ç©ºæ ¼åˆ†å¼€éš”å¼€ å¦‚(â€œdb1â€ â€œdb2â€ â€œdb3â€)</p><p>backup_location=/root/backup/backup #å¤‡ä»½æ•°æ®å­˜æ”¾ä½ç½®ï¼Œæœ«å°¾è¯·ä¸è¦å¸¦â€/â€œ,æ­¤é¡¹å¯ä»¥ä¿æŒé»˜è®¤ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ›å»ºæ–‡ä»¶å¤¹</p><p>expire_backup_delete=â€ONâ€ #æ˜¯å¦å¼€å¯è¿‡æœŸå¤‡ä»½åˆ é™¤ ONä¸ºå¼€å¯ OFFä¸ºå…³é—­</p><p>expire_days=7 #è¿‡æœŸæ—¶é—´å¤©æ•° é»˜è®¤ä¸ºä¸‰å¤©ï¼Œæ­¤é¡¹åªæœ‰åœ¨expire_backup_deleteå¼€å¯æ—¶æœ‰æ•ˆ</p><p>welcome_msg=â€helloâ€</p><p>DATE=$(date +%Y-%m-%d_ã€‹ã€‹%X)</p><p>time=<code>date +%Y-%m-%d_%H:%M:%S</code></p><p>#â€œ+%Y-%m-%d %H:%M:%Sâ€</p><p>backup_time=<code>date +%Y-%m-%d_%H:%M:%S</code> #å®šä¹‰å¤‡ä»½è¯¦ç»†æ—¶é—´</p><p>backup_Ymd=<code>date +%Y-%m-%d</code> #å®šä¹‰å¤‡ä»½ç›®å½•ä¸­çš„å¹´æœˆæ—¥æ—¶é—´</p><p>backup_7ago=<code>date -d</code>7 days ago<code>+%Y%m%d</code>  #7å¤©ä¹‹å‰çš„æ—¥æœŸ</p><p>backup_dir=$backup_location/$backup_Ymd #å¤‡ä»½æ–‡ä»¶å¤¹å…¨è·¯å¾„</p><p>welcome_msg=â€Welcome to use MySQL backup tools!â€ #æ¬¢è¿è¯­</p> <!--more--><p># åˆ¤æ–­MYSQLæ˜¯å¦å¯åŠ¨,mysqlæ²¡æœ‰å¯åŠ¨åˆ™å¤‡ä»½é€€å‡º</p><p>mysql_ps=<code>ps -ef |grep mysql |wc -l</code></p><p>mysql_listen=<code>netstat -an |grep LISTEN |grep $mysql_port|wc -l</code></p><p>if [ [$mysql_ps == 0] -o [$mysql_listen == 0] ];</p><p>then</p><p>echo â€œ $DATE ERROR:MySQL is not running! backup stop!â€ &gt;&gt;/root/backup/backup.log</p><p>echo â€œ$time mysql is not runningâ€ &gt;&gt;/root/backup/mail.txt</p><p>else</p><p>echo  â€œ$DATE $welcome_msgâ€ &gt;&gt;/root/backup/backup.log</p><p>echo â€œ[$time]â€</p><p>fi</p><p> # åˆ¤æ–­æœ‰æ²¡æœ‰å®šä¹‰å¤‡ä»½çš„æ•°æ®åº“ï¼Œå¦‚æœå®šä¹‰åˆ™å¼€å§‹å¤‡ä»½ï¼Œå¦åˆ™é€€å‡ºå¤‡ä»½</p><p>if [ â€œ$backup_db_arrâ€ != â€œâ€ ];then</p><p>#dbnames=$(cut -d â€˜,â€™ -f1-5 $backup_database)</p><p>#echo  $DATE â€œarr is (${backup_db_arr[@]})â€</p><p>for dbname in ${backup_db_arr[@]}</p><p>do</p><p>echo  $time â€œdatabase $dbname backup startâ€¦â€ &gt;&gt;/root/backup/backup.log#å†™å…¥æ—¥å¿—</p><p>echo $time â€œdatabase $dbname backup start â€œ&gt;&gt;/root/backup/mail.txt#å†™å…¥é‚®ä»¶æ—¥å¿—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p $backup_dir</span><br><span class="line">mysqldump  -u$mysql_user -p$mysql_password mall | gzip &gt; $backup_dir/$dbname-$time.sql.gz</span><br></pre></td></tr></table></figure><p>flag=<code>echo $?</code></p><p>if [ $flag == â€œ0â€ ];then</p><p>echo $DATE â€œdatabase $dbname success backup to $backup_dir/$dbname-$backup_time.sql.gzâ€ &gt;&gt;/root/backup/backup.log</p><p>echo $time â€œdatabases success backup â€œ&gt;&gt;/root/backup/mail.txt#å†™å…¥é‚®ä»¶æ—¥å¿—</p><p>else</p><p>echo $DATE â€œdatabase $dbname backup fail!â€ &gt;&gt;/root/backup/backup.log</p><p>echo $time â€œdatabase backup failâ€&gt;&gt;/root/backup/mail.txt#å†™å…¥é‚®ä»¶æ—¥å¿—</p><p>fi</p><p>done</p><p>else</p><p>echo $DATE â€œERROR:No database to backup! backup stopâ€ &gt;&gt;/root/backup/backup.log</p><p>echo $time â€œno database to backupâ€&gt;&gt;/root/backup/mail.txt</p><p>exit</p><p>fi</p><p># å¦‚æœå¼€å¯äº†åˆ é™¤è¿‡æœŸå¤‡ä»½ï¼Œåˆ™è¿›è¡Œåˆ é™¤æ“ä½œ</p><p>if [ â€œ$expire_backup_deleteâ€ == â€œONâ€ -a â€œ$backup_locationâ€ != â€œâ€ ];then</p><p>#<code>find $backup_location/ -type d -o -type f -ctime $expire_days -exec rm -rf {} \;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find $backup_location/ -type d -mtime $expire_days | xargs rm -rf</span><br></pre></td></tr></table></figure><p>echo â€œ$DATE Expired backup data delete complete!â€&gt;&gt;/root/backup/backup.log</p><p>echo $time â€œexpired backup data delete completeâ€&gt;&gt;/root/backup/mail.txt</p><p>fi</p><p>echo â€œ$DATE  All database backup success! Thank you!â¤ï¸â€ &gt;&gt;/root/backup/backup.log</p><p>mail -s â€œ[1/2]132.148.242.150 mysqlbackup $timeâ€ é‚®ç®±å&lt;/root/backup/mail.txt</p><p>rm -rf /root/backup/mail.txt#åˆ é™¤é‚®ä»¶æ—¥å¿—</p><p>exit</p><p>fi</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢&lt;br&gt;
    
    </summary>
    
    
      <category term="shell" scheme="http://yoursite.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>è„šæœ¬å®‰è£…mysql</title>
    <link href="http://yoursite.com/2019/04/24/mysql%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85/"/>
    <id>http://yoursite.com/2019/04/24/mysqlè„šæœ¬å®‰è£…/</id>
    <published>2019-04-24T09:34:23.000Z</published>
    <updated>2019-04-29T06:46:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢<br><a id="more"></a></p><pre><code>#!/bin/bash</code></pre><p>echo â€œæ­£åœ¨æŸ¥æ‰¾ç›¸å…³mysqlç¨‹åºâ€<br>mysql1=$(rpm -qa |grep mysql)<br>if [ ! -n â€œ$mysql1â€ ]; then<br>  echo â€œæœåŠ¡å™¨æ²¡æœ‰å®‰è£…ç›¸å…³mysqlç¨‹åºâ€<br>else<br>  echo â€œæœåŠ¡å™¨å®‰è£…äº†ç›¸å…³mysqlç¨‹åºï¼Œæ­£åœ¨å¸è½½ã€‚ã€‚ã€‚â€<br>  echo $mysql1<br>  rpm -e â€“nodeps $mysql1<br>  echo â€œmysqlç›¸å…³ç¨‹åºå¸è½½å®Œæˆâ€<br>fi</p><p>echo â€œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€œ</p><p>echo â€œæ­£åœ¨æŸ¥çœ‹ç›¸å…³mariadbç¨‹åºâ€<br>mariadb1=$(rpm -qa |grep mariadb)<br>if [ ! -n â€œ$mariadb1â€ ]; then<br>  echo â€œæœåŠ¡å™¨æ²¡æœ‰å®‰è£…ç›¸å…³mariadbç¨‹åºâ€<br>else<br>  echo â€œæœåŠ¡å™¨å®‰è£…äº†ç›¸å…³mariadbç¨‹åºï¼Œæ­£åœ¨å¸è½½ã€‚ã€‚ã€‚â€<br>  echo $mariadb1<br>  rpm -e â€“nodeps $mariadb1<br>  echo â€œmariadbç›¸å…³ç¨‹åºå¸è½½å®Œæˆâ€<br>fi</p><p>echo â€œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€œ</p><p>echo â€œæ­£åœ¨æ£€éªŒæ˜¯å¦å­˜åœ¨mysqlç›¸å…³ç”¨æˆ·å’Œç»„â€<br>mysqlG=$(nl /etc/group | grep mysql)<br>mysqlS=$(nl /etc/shadow | grep mysql)<br>mysqlU=$(nl /etc/passwd | grep mysql)<br>if [ ! -n â€œ$mysqlUâ€ ]; then<br>  echo â€œä¸å­˜åœ¨mysqlç”¨æˆ·â€<br>else<br>  echo â€œå­˜åœ¨mysqlç”¨æˆ·ï¼Œæ­£åœ¨åˆ é™¤ã€‚ã€‚ã€‚â€<br>  echo $mysqlU<br>  userdel mysql #è¿™é‡Œå†™æ­»äº†ï¼Œå¾…ä¼˜åŒ–<br>  echo â€œmysqlç”¨æˆ·åˆ é™¤æˆåŠŸâ€<br>fi</p><p>echo â€œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€œ</p><p>echo â€œæ­£åœ¨æŸ¥æ‰¾mysqlç›¸å…³ç›®å½•â€<br>mulu=$(find / -name mysql)<br>if [ ! -n â€œ$muluâ€ ]; then<br>  echo â€œæ— ç›¸å…³mysqlç›®å½•â€<br>else<br>  echo â€œæœåŠ¡å™¨å­˜åœ¨ç›¸å…³mysqlç›®å½•ï¼Œæ­£åœ¨åˆ é™¤ã€‚ã€‚ã€‚â€<br>  echo $mulu<br>  rm -rf $mulu<br>  echo â€œåˆ é™¤å®Œæˆï¼â€<br>fi</p><p>echo â€œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€œ</p><p>echo â€œæ­£åœ¨æŸ¥æ‰¾mysqld.logâ€<br>MYSQL_LOG=$(find / -name mysqld.log)<br>if [ ! -n â€œ$MYSQL_LOGâ€ ]; then<br>  echo â€œæ²¡æ‰¾åˆ°mysqld.logâ€<br>else<br>  echo â€œæ‰¾åˆ°mysqld.logï¼Œæ­£åœ¨åˆ é™¤ã€‚ã€‚ã€‚â€<br>  echo $MYSQL_LOG<br>  rm -rf $MYSQL_LOG<br>  echo â€œåˆ é™¤å®Œæˆ!â€<br>fi</p><p>echo â€œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€œ</p><p>read -p â€œè¯·è¾“å…¥centosçš„å®‰è£…èŒƒå›´(åªèƒ½è¾“å…¥el6æˆ–el7):â€ fanwei<br>if [ â€œ$fanweiâ€ = â€œel6â€ ]; then<br>  rpm -ivh mysql-community-common-5.7.21-1.el6.x86_64.rpm mysql-community-libs-5.7.21-1.el6.x86_64.rpm mysql-community-client-5.7.21-1.el6.x86_64.rpm mysql-community-server-5.7.21-1.el6.x86_64.rpm<br>  echo â€œmysqlå®‰è£…æˆåŠŸâ€<br>elif [ â€œ$fanweiâ€ = â€œel7â€ ]; then<br>  rpm -ivh mysql-community-common-5.7.21-1.el7.x86_64.rpm mysql-community-libs-5.7.21-1.el7.x86_64.rpm mysql-community-client-5.7.21-1.el7.x86_64.rpm mysql-community-server-5.7.21-1.el7.x86_64.rpm<br>  echo â€œmysqlå®‰è£…æˆåŠŸâ€<br>  mysql â€“version</p><p>else<br>  echo â€œè¾“å…¥é”™è¯¯ï¼Œå†è§ï¼â€<br>  exit 0<br>fi</p><p>echo â€œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€œ</p><p>echo â€œæ­£åœ¨æ”¹å†™/etc/my.cnfâ€</p><p>aa=â€[mysqld]â€<br>a=â€symbolic-links=0â€<br>b=â€log-error=/var/log/mysqld.logâ€<br>c=â€pid-file=/var/run/mysqld/mysqld.pidâ€<br>d=â€character_set_server=utf8â€<br>e=â€skip-name-resolveâ€<br>f=â€lower_case_table_names=1â€<br>g=â€sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTIONâ€<br>h=â€[client]â€<br>i=â€default-character-set=utf8â€<br>j=â€[mysql]â€</p><p>moren1=/var/lib/mysql<br>moren2=/var/lib/mysql/mysql.sock</p><p>read -p â€œæ˜¯å¦éœ€è¦æ›´æ”¹æ•°æ®å­˜å‚¨ç›®å½•ï¼Ÿ(y or n)ï¼šâ€ yorn<br>if [ â€œ$yornâ€ = â€œyâ€ ]; then<br>  echo -e â€œ\033[31m æç¤ºï¼šsocketè·¯å¾„åœ¨datadirç›®å½•ä¸‹ï¼Œdatadiré»˜è®¤è·¯å¾„/var/lib/mysqlï¼Œsocketé»˜è®¤è·¯å¾„/var/lib/mysql/mysql.sock \033[0mâ€<br>  read -p â€œè¾“å…¥datadirè·¯å¾„ï¼šâ€ datadir<br>  read -p â€œè¾“å…¥socketè·¯å¾„ï¼šâ€ socketdir<br>  echo $aa &gt; /etc/my.cnf<br>  echo datadir=$datadir &gt;&gt; /etc/my.cnf<br>  echo socket=$socketdir &gt;&gt; /etc/my.cnf<br>  echo $a &gt;&gt; /etc/my.cnf<br>  echo $b &gt;&gt; /etc/my.cnf<br>  echo $c &gt;&gt; /etc/my.cnf<br>  echo $d &gt;&gt; /etc/my.cnf<br>  echo $e &gt;&gt; /etc/my.cnf<br>  echo $f &gt;&gt; /etc/my.cnf<br>  echo $g &gt;&gt; /etc/my.cnf<br>  echo $h &gt;&gt; /etc/my.cnf<br>  echo $i &gt;&gt; /etc/my.cnf<br>  echo $j &gt;&gt; /etc/my.cnf<br>  echo socket=$socketdir &gt;&gt; /etc/my.cnf<br>  echo â€œå†™å…¥æˆåŠŸã€‚â€<br>elif [ â€œ$yornâ€ = â€œnâ€ ]; then<br>  echo â€œå°†ä½¿ç”¨é»˜è®¤è·¯å¾„/var/lib/mysqlï¼Œ/var/lib/mysql/mysql.sockâ€<br>  echo $aa &gt; /etc/my.cnf<br>  echo datadir=$moren1 &gt;&gt; /etc/my.cnf<br>  echo socket=$moren2 &gt;&gt; /etc/my.cnf<br>  echo $a &gt;&gt; /etc/my.cnf<br>  echo $b &gt;&gt; /etc/my.cnf<br>  echo $c &gt;&gt; /etc/my.cnf<br>  echo $d &gt;&gt; /etc/my.cnf<br>  echo $e &gt;&gt; /etc/my.cnf<br>  echo $f &gt;&gt; /etc/my.cnf<br>  echo $g &gt;&gt; /etc/my.cnf<br>  echo $h &gt;&gt; /etc/my.cnf<br>  echo $i &gt;&gt; /etc/my.cnf<br>  echo $j &gt;&gt; /etc/my.cnf<br>  echo socket=$moren2 &gt;&gt; /etc/my.cnf<br>else<br>  echo â€œè¾“å…¥é”™è¯¯ï¼Œæ‹œæ‚¨ä¸ªæ‹œ!â€<br>  exit 0<br>fi</p><p>echo â€œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€œ<br>echo â€œå¯åŠ¨mysqlâ€<br>service mysqld restart<br>echo â€œå¼€å§‹é…ç½®mysqlâ€</p><p>HOSTNAME=â€localhostâ€<br>PORT=â€3306â€<br>USER_NAME=â€rootâ€<br>PASSWORD_LOG=$(grep â€˜temporary passwordâ€™ /var/log/mysqld.log)<br>PASSWORD_LOG_NEW=${PASSWORD_LOG##*: }<br>PASSWORD_NEW=â€Mysql@123456â€<br>echo $PASSWORD_LOG_NEW</p><p>mysql â€“connect-expired-password -uâ€$USER_NAMEâ€ -pâ€$PASSWORD_LOG_NEWâ€ &lt;&lt; EOF &gt;/dev/null 2&gt;&amp;1<br>ALTER USER â€˜rootâ€˜@â€™localhostâ€™ IDENTIFIED BY â€˜$PASSWORD_NEWâ€™;<br>flush privileges;<br>use mysql;<br>update user set host=â€™%â€™ where user =â€™rootâ€™ and host=â€™localhostâ€™;<br>select host,user from user;<br>grant all privileges on <em>.</em> to root@â€™%â€™ identified by â€˜$PASSWORD_NEWâ€™ with grant option;<br>EOF</p><p>echo -e â€œ\033[31må¯†ç åˆå§‹åŒ–å®Œæˆï¼Œè¿œç¨‹åŠŸèƒ½åˆå§‹åŒ–å®Œæˆã€‚æ­£åœ¨é‡å¯mysql\033[0mâ€<br>service mysqld restart</p><p>echo â€œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€œ</p><p>read -p â€œè¯·è¾“å…¥centosç‰ˆæœ¬ä¾¿äºè®¾ç½®mysqlå¼€æœºè‡ªå¯åŠ¨(centos6/centos7)â€ VERSION1<br>if [ â€œ$VERSION1â€ = â€œcentos6â€ ]; then<br>chkconfig mysqld on<br>echo â€œå¼€æœºè‡ªå¯åŠ¨è®¾ç½®æˆåŠŸâ€<br>elif [ â€œ$VERSION1â€ = â€œcentos7â€ ]; then<br>systemctl enable mysqld.service<br>echo â€œå¼€æœºè‡ªå¯åŠ¨è®¾ç½®æˆåŠŸâ€<br>else<br>echo â€œè¾“å…¥é”™è¯¯ï¼Œè‡ªå·±æ‰‹åŠ¨è®¾ç½®å§!â€<br>exit 0<br>fi</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢&lt;br&gt;
    
    </summary>
    
    
      <category term="shell" scheme="http://yoursite.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>ğŸ‘©â€ğŸ¤æ ¼å¼</title>
    <link href="http://yoursite.com/2019/01/01/article-title%E7%9A%84%E5%89%AF%E6%9C%AC/"/>
    <id>http://yoursite.com/2019/01/01/article-titleçš„å‰¯æœ¬/</id>
    <published>2019-01-01T09:34:23.000Z</published>
    <updated>2019-04-29T07:46:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢<br>            Hello<br><a id="more"></a></p><p>/<em> ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼<br><strong> æ¯ä¸€é¡¹çš„ : åé¢å‡æœ‰ä¸€ä¸ªç©ºæ ¼</strong> ä¸” : ä¸ºè‹±æ–‡ç¬¦å·<br>** ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</em>/</p><p>title:<br>/<em> æ–‡ç« æ ‡é¢˜ï¼Œå¯ä»¥ä¸ºä¸­æ–‡ </em>/</p><p>date:<br>/<em> å»ºç«‹æ—¥æœŸï¼Œå¦‚æœè‡ªå·±æ‰‹åŠ¨æ·»åŠ ï¼Œè¯·æŒ‰å›ºå®šæ ¼å¼<br><strong> å°±ç®—ä¸å†™ï¼Œé¡µé¢æ¯ç¯‡æ–‡ç« é¡¶éƒ¨çš„å‘è¡¨äºâ€¦â€¦ä¹Ÿèƒ½æ˜¾ç¤º</strong> åªè¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®äº† created_at å°±è¡Œ<br><strong> é‚£ä¸ºä»€ä¹ˆè¿˜è¦è‡ªå·±åŠ ä¸Šï¼Ÿ</strong> è‡ªå®šä¹‰æ–‡ç« å‘å¸ƒçš„æ—¶é—´</em>/</p><p>updated:<br>/<em> æ›´æ–°æ—¥æœŸï¼Œå…¶å®ƒä¸ä¸Šé¢çš„å»ºç«‹æ—¥æœŸç±»ä¼¼<br><strong> ä¸è¿‡åœ¨é¡µé¢æ¯ç¯‡æ–‡ç« é¡¶éƒ¨ï¼Œæ˜¯æ›´æ–°äºâ€¦â€¦</strong> åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæ˜¯ updated_at</em>/</p><p>permalink:<br>/<em> è‹¥ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸‹çš„ permalink é…ç½®äº† title<br>** åˆ™å¯ä»¥æ›¿æ¢æ–‡ç«  URL é‡Œé¢çš„ titleï¼ˆæ–‡ç« æ ‡é¢˜ï¼‰</em>/</p><p>categories:<br>/* åˆ†ç±»ï¼Œæ”¯æŒå¤šçº§ï¼Œæ¯”å¦‚ï¼š</p><ul><li>technology</li><li>computer</li><li>computer-aided-art<br>åˆ™ä¸ºtechnology/computer/computer-aided-art<br>ï¼ˆä¸é€‚ç”¨äº layout: pageï¼‰<br>*/</li></ul><p>tags:<br>/<em> æ ‡ç­¾<br><strong> å¤šä¸ªå¯ä»¥è¿™æ ·å†™[æ ‡ç­¾1,æ ‡ç­¾2,æ ‡ç­¾3]</strong> ï¼ˆä¸é€‚ç”¨äº layout: pageï¼‰</em>/</p><p>description:<br>/<em> æ–‡ç« çš„æè¿°ï¼Œåœ¨æ¯ç¯‡æ–‡ç« æ ‡é¢˜ä¸‹æ–¹æ˜¾ç¤º<br><strong> å¹¶ä¸”ä½œä¸ºç½‘é¡µçš„ description å…ƒæ•°æ®</strong> å¦‚æœä¸å†™ï¼Œåˆ™è‡ªåŠ¨å– <!-- more --><br><strong> ä¹‹å‰çš„æ–‡å­—ä½œä¸ºç½‘é¡µçš„ description å…ƒæ•°æ®</strong> å»ºè®®æ¯ç¯‡æ–‡ç« éƒ½åŠ¡å¿…åŠ ä¸Šï¼</em>/</p><p>keywords:<br>/<em> å…³é”®å­—ï¼Œå¹¶ä¸”ä½œä¸ºç½‘é¡µçš„ keywords å…ƒæ•°æ®<br><strong> å¦‚æœä¸å†™ï¼Œåˆ™è‡ªåŠ¨å– tags é‡Œçš„é¡¹</strong> ä½œä¸ºç½‘é¡µçš„ keywords å…ƒæ•°æ®</em>/</p><p>comments:<br>/<em> æ˜¯å¦å¼€å¯è¯„è®º<br><strong> é»˜è®¤å€¼æ˜¯ true</strong> è¦å…³é—­å†™ false</em>/</p><p>layout:<br>/<em> é¡µé¢å¸ƒå±€ï¼Œé»˜è®¤å€¼æ˜¯ postï¼Œé»˜è®¤å€¼å¯ä»¥åœ¨<br><strong> ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ default_layout</strong> å¦ï¼š404 é¡µé¢å¯èƒ½ç”¨åˆ°ï¼Œå°†å…¶å€¼æ”¹ä¸º false</em>/</p><p>type:<br>/<em> categoriesï¼Œç›®å½•é¡µé¢<br><strong> tagsï¼Œæ ‡ç­¾é¡µé¢</strong> pictureï¼Œç”¨æ¥ç”Ÿæˆ group-pictures<br><strong> quoteï¼Ÿ</strong> <a href="https://reuixiy.github.io/uncategorized/2010/01/01/test.html" target="_blank" rel="noopener">https://reuixiy.github.io/uncategorized/2010/01/01/test.html</a></em>/</p><p>photos:<br>/* Gallery supportï¼Œç”¨æ¥æ”¯æŒç”»å»Š / ç›¸å†Œï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p><ul><li>photo_url_1</li><li>photo_url_2</li><li>photo_url_3<br><a href="https://reuixiy.github.io/uncategorized/2010/01/01/test.html" target="_blank" rel="noopener">https://reuixiy.github.io/uncategorized/2010/01/01/test.html</a><br>*/</li></ul><p>link:<br>/<em> æ–‡ç« çš„å¤–éƒ¨é“¾æ¥<br>** <a href="https://reuixiy.github.io/uncategorized/2010/01/01/test.html" target="_blank" rel="noopener">https://reuixiy.github.io/uncategorized/2010/01/01/test.html</a></em>/</p><p>image:<br>/<em> è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å›¾ç‰‡ï¼Œåªåœ¨é¡µé¢å±•ç¤ºï¼Œæ–‡ç« å†…æ¶ˆå¤±<br>** æ­¤é¡¹åªæœ‰å‚è€ƒæœ¬æ–‡ 5.14 èŠ‚é…ç½®å¥½ï¼Œå¦åˆ™è¯·å‹¿æ·»åŠ ï¼</em>/</p><p>sticky:<br>/<em> æ–‡ç« ç½®é¡¶<br>** æ­¤é¡¹åªæœ‰å‚è€ƒæœ¬æ–‡ 5.15 èŠ‚é…ç½®å¥½ï¼Œå¦åˆ™è¯·å‹¿æ·»åŠ ï¼</em>/</p><p>password:<br>/<em> æ–‡ç« å¯†ç ï¼Œæ­¤é¡¹åªæœ‰å‚è€ƒæ•™ç¨‹ï¼š<br><strong> <a href="http://shenzekun.cn/hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®æ•™ç¨‹.html" target="_blank" rel="noopener">http://shenzekun.cn/hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–é…ç½®æ•™ç¨‹.html</a></strong> ç¬¬ 24 èŠ‚ï¼Œé…ç½®å¥½ï¼Œå¦åˆ™è¯·å‹¿æ·»åŠ ï¼<br><strong> å‘ç°è¿˜æ˜¯æœ‰ bug çš„ï¼Œå°±æ˜¯å³é”®åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€</strong> ç„¶åæ— è®ºæ˜¯å¦è¾“å…¥å¯†ç ï¼Œéƒ½èƒ½çœ‹åˆ°å†…å®¹</em>/</p><p>æˆ‘ä¸ªäººçš„æ€»ç»“</p><p>é¦–å…ˆæ˜¯åŸºç¡€ä½†é‡è¦ï¼š</p><p>æ–‡ç« å†…æ ‡é¢˜è¯·ä»äºŒçº§æ ‡é¢˜ï¼ˆ##ï¼‰å¼€å§‹ï¼<br>è‹±è¯­å•è¯ã€æ•°å­—å·¦å³çœ‹æƒ…å†µåŠ ä¸Šç©ºæ ¼ï¼<br>Markdwon æ–‡æ¡£å†™å®Œä¸€æ®µå›è½¦ååŠ¡å¿…å†å›è½¦ä¸€æ¬¡ç©ºä¸€è¡Œï¼<br>ç„¶åå¦‚æœæœ‰äº›ç”¨ Markdwon çš„è¯­æ³•å´è¾¾ä¸åˆ°é¢„æœŸæ•ˆæœï¼ˆç”šè‡³äº§ç”Ÿå¥‡æ€ªçš„ bugsï¼‰ï¼Œæˆ–è€…ç”¨ Markdwon çš„è¯­æ³•æ— æ³•å®ç°ï¼Œè¿™æ—¶å°±å¯ä»¥è€ƒè™‘ç”¨ HTML å’Œ CSSã€‚</p><p>åˆ†éš”çº¿å’Œç©ºè¡Œ<br>1<br>2<br>3<br>4<br>5<br>6<br>7<br>/<em> åˆ†éš”çº¿ </em>/</p><p><hr><br>/<em> æ³¨æ„äº‹é¡¹[6]ï¼šåœ¨XHTML ä¸­ï¼Œ<hr> å¿…é¡»è¢«æ­£ç¡®åœ°å…³é—­ï¼Œæ¯”å¦‚ <hr> </em>/</p><p>/<em> ç©ºè¡Œ </em>/<br><br><br>/<em> æ³¨æ„äº‹é¡¹åŒä¸Š </em>/<br>å¼•ç”¨<br>1<br>2<br>3<br>4</p><blockquote>å¼•ç”¨å†…å®¹</blockquote><p>/<em> å¦‚æœä¸Šä¸‹é—´è·å¾ˆå°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ </em>/</p><p></p><p><blockquote>å¼•ç”¨å†…å®¹</blockquote></p><br>å±…ä¸­å’Œå³å¯¹é½<br>1<br>2<br>3<br>4<br>5<br>/<em> å±…ä¸­ </em>/<p></p><center>å†…å®¹</center><p>/<em> å³å¯¹é½ </em>/</p><p></p><p style="text-align:right">å†…å®¹</p><br>å­—ä½“å¤§å°å’Œé¢œè‰²<br>1<br>2<p></p><p><font color="#xxxxxx" size="number">å†…å®¹</font><br>/<em> è¯¦ç»†è¯·æŸ¥çœ‹ <a href="http://www.w3school.com.cn/tags/tag_font.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/tags/tag_font.asp</a> </em>/<br>Todo list<br>1<br>2<br>3<br>4</p><ul><br><li><i class="fa fa-check-square"></i> å·²å®Œæˆ</li><br><li><i class="fa fa-square"></i> æœªå®Œæˆ</li><br></ul><p>éŸ³ä¹</p><p>å¯ä»¥ç›´æ¥ç”¨ HTML çš„æ ‡ç­¾ï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p><p>1</p><p>&lt;audio src=â€https://ä»€ä¹ˆä»€ä¹ˆä»€ä¹ˆ.mp3â€ style=â€max-height :100%; max-width: 100%; display: block; margin-lef</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢&lt;br&gt;            Hello&lt;br&gt;
    
    </summary>
    
    
      <category term="test" scheme="http://yoursite.com/tags/test/"/>
    
  </entry>
  
  <entry>
    <title>ğŸ£</title>
    <link href="http://yoursite.com/1919/01/01/article-title/"/>
    <id>http://yoursite.com/1919/01/01/article-title/</id>
    <published>1919-01-01T09:34:23.000Z</published>
    <updated>2019-04-29T06:47:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢<br>            Hello </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;â€¢â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆà­¨à­§â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ€¢&lt;br&gt;            Hello &lt;/p&gt;

      
    
    </summary>
    
    
      <category term="test" scheme="http://yoursite.com/tags/test/"/>
    
  </entry>
  
</feed>
